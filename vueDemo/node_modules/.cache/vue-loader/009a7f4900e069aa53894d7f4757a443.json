{"remainingRequest":"/var/www/html/vuedemo/node_modules/vue-loader/lib/index.js??vue-loader-options!/var/www/html/vuedemo/src/components/HomePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/var/www/html/vuedemo/src/components/HomePage.vue","mtime":1586422699718},{"path":"/var/www/html/vuedemo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/vuedemo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/var/www/html/vuedemo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/var/www/html/vuedemo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBDT05TVCBmcm9tICcuLi9jb25zdCcKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEgKCkgewogICAgICAgIHJldHVybiB7CgkJCWFsbG5vdGVzOltdLAogICAgICAgICAgICB0aXRsZTogJycsCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICAgICAgaWQ6JycsCiAgICAgICAgICAgIGVyck1zZyA6ICcnLAogICAgICAgICAgICBzdWNNc2cgOiAnJywKICAgICAgICAgICAgc3VibWl0dGVkIDogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCAoKSB7CgkJY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcnNlYycpOwoJCWF4aW9zLnBvc3QoQ09OU1QuYXBpVVJMKydub3RlcycsIHt0b2tlbjp0b2tlbn0pCgkJLnRoZW4ocmVzcG9uc2UgPT4gewoJCQl0aGlzLmFsbG5vdGVzID0gcmVzcG9uc2UuZGF0YS5ub3RlczsKCQl9KQoJCS5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgICBoYW5kbGVTdWJtaXQgKCkgewogICAgICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IHRydWU7CiAgICAgICAgICAgIGNvbnN0IHsgdGl0bGUsIGRlc2NyaXB0aW9uIH0gPSB0aGlzOwoJCQljb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2Vyc2VjJyk7CiAgICAgICAgICAgIGlmICh0aXRsZSAmJiBkZXNjcmlwdGlvbikgewoJCQkJYXhpb3MucG9zdChDT05TVC5hcGlVUkwrJ2FkZG5vdGUnLCB7dG9rZW46dG9rZW4sdGl0bGU6dGl0bGUsZGVzY3JpcHRpb246ZGVzY3JpcHRpb24saWQgOiB0aGlzLmlkfSkKCQkJCS50aGVuKHJlc3BvbnNlID0+IHsKCQkJCQlpZihyZXNwb25zZS5kYXRhLnN1Y2Nlc3MgPT0gdHJ1ZSl7CgkJCQkJCWNvbnN0IGFsbE5vdGVzID0gWy4uLnRoaXMuYWxsbm90ZXNdOwoJCQkJCQlpZih0aGlzLmlkICE9ICcnKXsKCQkJCQkJCWNvbnN0IGZpZCA9IHRoaXMuaWQ7CgkJCQkJCQljb25zdCBub3RlaW5kZXggPSBhbGxOb3Rlcy5maW5kSW5kZXgobm90ZSA9PiBub3RlLl9pZCA9PSBmaWQpOwoJCQkJCQkJYWxsTm90ZXNbbm90ZWluZGV4XSA9IHJlc3BvbnNlLmRhdGEubm90ZTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCWFsbE5vdGVzLnB1c2gocmVzcG9uc2UuZGF0YS5ub3RlKTsKCQkJCQkJfQoJCQkJCQl0aGlzLmFsbG5vdGVzID0gYWxsTm90ZXM7CgkJCQkJCXRoaXMuc3VjTXNnID0gJ3JlY29yZCBzYXZlIHN1Y2Nlc3NmdWxseSc7CgkJCQkJCXRoaXMucmVzZXRGb3JtKCk7CgkJCQkJfSBlbHNlIHsKCQkJCQkJaWYocmVzcG9uc2UuZGF0YS5hdXRoID09IGZhbHNlKXsKCQkJCQkJCXRoaXMubG9nb3V0KCk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQl0aGlzLmVyck1zZyA9ICJTZXJ2ZXIgZXJyb3IiOwoJCQkJCQl9CgkJCQkJfQoJCQkJfSkKCQkJCS5jYXRjaChlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFkZE5ldygpewoJCQl0aGlzLnJlc2V0Rm9ybSgpOwogICAgICAgICAgICB0aGlzLmVyck1zZyA9ICcnOwogICAgICAgICAgICB0aGlzLnN1Y01zZyA9ICcnOwogICAgICAgIH0sCiAgICAgICAgcmVzZXRGb3JtKCl7CgkJCXRoaXMudGl0bGUgPSAgJyc7CiAgICAgICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSAnJzsKICAgICAgICAgICAgdGhpcy5pZCA9ICcnOwogICAgICAgICAgICB0aGlzLnN1Ym1pdHRlZCA9IGZhbHNlOwogICAgICAgIH0sCiAgICAgICAgZWRpdE5vdGUoZmlkKXsKCQkJY29uc3QgYWxsTm90ZXMgPSBbLi4udGhpcy5hbGxub3Rlc107CgkJCWNvbnN0IGRhdGF2YWwgPSBhbGxOb3Rlcy5maW5kKG5vdGUgPT4gbm90ZS5faWQgPT0gZmlkKTsKCQkJaWYoZGF0YXZhbCl7CgkJCQl0aGlzLnRpdGxlID0gIGRhdGF2YWwudGl0bGU7CgkJCQl0aGlzLmRlc2NyaXB0aW9uID0gZGF0YXZhbC5kZXNjcmlwdGlvbjsKCQkJCXRoaXMuaWQgPSBkYXRhdmFsLl9pZDsKCQkJCQoJCQl9CiAgICAgICAgfSwKICAgICAgICBkZWxldGVOb3RlKGZpZCl7CgkJCWNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJzZWMnKTsKCQkJYXhpb3MucG9zdChDT05TVC5hcGlVUkwrJ2RlbGV0ZW5vdGUnLCB7dG9rZW46dG9rZW4saWQ6ZmlkfSkKCQkJLnRoZW4ocmVzcG9uc2UgPT4gewoJCQkJaWYocmVzcG9uc2UuZGF0YS5zdWNjZXNzID09IHRydWUpewoJCQkJCWNvbnN0IGFsbE5vdGVzID0gWy4uLnRoaXMuYWxsbm90ZXNdOwoJCQkJCWNvbnN0IG5vdGVpbmRleCA9IGFsbE5vdGVzLmZpbmRJbmRleChub3RlID0+IG5vdGUuX2lkID09IGZpZCk7CgkJCQkJaWYgKG5vdGVpbmRleCA+IC0xKSB7CgkJCQkJYWxsTm90ZXMuc3BsaWNlKG5vdGVpbmRleCwgMSk7CgkJCQkJfQoJCQkJCXRoaXMuYWxsbm90ZXMgPSBhbGxOb3RlczsKCQkJCQl0aGlzLnN1Y01zZyA9IHJlc3BvbnNlLmRhdGEubWVzc2FnZTsKCQkJCQl0aGlzLnJlc2V0Rm9ybSgpOwoJCQkJfSBlbHNlIHsKCQkJCQlpZihyZXNwb25zZS5kYXRhLmF1dGggPT0gZmFsc2UpewoJCQkJCQl0aGlzLmxvZ291dCgpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXRoaXMuZXJyTXNnID0gIlNlcnZlciBlcnJvciI7CgkJCQkJfQoJCQkJfQoJCQl9KQoJCQkuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKGVycikpOwogICAgICAgIH0sCiAgICAgICAgbG9nb3V0KCl7CgkJCWxvY2FsU3RvcmFnZS5jbGVhcigpOwoJCQl0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CgkJfSwKICAgIH0KfTsK"},{"version":3,"sources":["HomePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HomePage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"row app-mainDiv\">\n\t<div class=\"col-md-12 titleBox\"><h1>Notes</h1><a href=\"javascript:;\" class=\"pull-right\" @click=\"logout\">Logout</a></div>\n\t<div class=\"col-md-12 contentbox\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"col-md-4 col-sm-12 leftContentDiv\">\n\t\t\t<ul id=\"notelistingul\">\n\t\t\t<li v-if=\"allnotes.length == 0\">No Records found</li>\n\n\t\t\t<li v-for=\"note in allnotes\" class=\"noteList\" :key=\"note._id\">\n\t\t\t\t<div class=\"editNoteDiv\" @click=\"editNote(note._id)\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<strong>{{ note.title }}</strong>\n\t\t\t\t\t\t<div class=\"clear\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p>{{ note.description }}</p>\n\t\t\t\t</div>\n\t\t\t\t<strong class=\"pull-right deleteNote\" @click=\"deleteNote(note._id)\">X</strong>\n\t\t\t</li>\n\t\t\t</ul>\n\t\t\t</div>\n\t\t\t<div class=\"col-md-8 col-sm-12 rightContentDiv\">\n\t\t\t\t\t<button class=\"btn pull-right\" @click=\"addNew\">+ Add Note</button>\n\t\t\t\t\t<div class=\"clear\"></div>\n\t\t\t\t\t<div v-show=\"errMsg\" class=\"alert alert-danger\" role=\"alert\">{{errMsg}}</div>\n\t\t\t\t\t<div v-show=\"sucMsg\" class=\"alert alert-success\" role=\"alert\">{{sucMsg}}</div>\n\t\t\t\t\t<form @submit.prevent=\"handleSubmit\">\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t<label for=\"title\">Title</label>\n\t\t\t\t\t\t\t<input type=\"text\" v-model=\"title\" id=\"title\" name=\"title\" class=\"form-control\" :class=\"{ 'is-invalid': submitted && !title }\" />\n\t\t\t\t\t\t\t<div v-show=\"submitted && !title\" class=\"invalid-feedback\">Title is required</div>\n\t\t\t\t\t\t\t<input type=\"hidden\" v-if=\"id\" id=\"_id\" name=\"_id\" v-model=\"id\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t<label for=\"password\">Body</label>\n\t\t\t\t\t\t\t<textarea v-model=\"description\" name=\"description\" id=\"description\" class=\"form-control\" :class=\"{ 'is-invalid': submitted && !description }\"></textarea>\n\t\t\t\t\t\t\t<div v-show=\"submitted && !description\" class=\"invalid-feedback\">Description is required</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"form-group\">\n\t\t\t\t\t\t\t<button class=\"btn btn-primary pull-right\">Save</button>\n\t\t\t\t\t\t\t<div class=\"clear\"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport CONST from '../const'\n\nexport default {\n    data () {\n        return {\n\t\t\tallnotes:[],\n            title: '',\n            description: '',\n            id:'',\n            errMsg : '',\n            sucMsg : '',\n            submitted : false\n        }\n    },\n    created () {\n\t\tconst token = localStorage.getItem('usersec');\n\t\taxios.post(CONST.apiURL+'notes', {token:token})\n\t\t.then(response => {\n\t\t\tthis.allnotes = response.data.notes;\n\t\t})\n\t\t.catch(err => console.log(err));\n    },\n    methods: {\n         handleSubmit () {\n            this.submitted = true;\n            const { title, description } = this;\n\t\t\tconst token = localStorage.getItem('usersec');\n            if (title && description) {\n\t\t\t\taxios.post(CONST.apiURL+'addnote', {token:token,title:title,description:description,id : this.id})\n\t\t\t\t.then(response => {\n\t\t\t\t\tif(response.data.success == true){\n\t\t\t\t\t\tconst allNotes = [...this.allnotes];\n\t\t\t\t\t\tif(this.id != ''){\n\t\t\t\t\t\t\tconst fid = this.id;\n\t\t\t\t\t\t\tconst noteindex = allNotes.findIndex(note => note._id == fid);\n\t\t\t\t\t\t\tallNotes[noteindex] = response.data.note;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tallNotes.push(response.data.note);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.allnotes = allNotes;\n\t\t\t\t\t\tthis.sucMsg = 'record save successfully';\n\t\t\t\t\t\tthis.resetForm();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(response.data.auth == false){\n\t\t\t\t\t\t\tthis.logout();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.errMsg = \"Server error\";\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => console.log(err));\n            }\n        },\n        addNew(){\n\t\t\tthis.resetForm();\n            this.errMsg = '';\n            this.sucMsg = '';\n        },\n        resetForm(){\n\t\t\tthis.title =  '';\n            this.description = '';\n            this.id = '';\n            this.submitted = false;\n        },\n        editNote(fid){\n\t\t\tconst allNotes = [...this.allnotes];\n\t\t\tconst dataval = allNotes.find(note => note._id == fid);\n\t\t\tif(dataval){\n\t\t\t\tthis.title =  dataval.title;\n\t\t\t\tthis.description = dataval.description;\n\t\t\t\tthis.id = dataval._id;\n\t\t\t\t\n\t\t\t}\n        },\n        deleteNote(fid){\n\t\t\tconst token = localStorage.getItem('usersec');\n\t\t\taxios.post(CONST.apiURL+'deletenote', {token:token,id:fid})\n\t\t\t.then(response => {\n\t\t\t\tif(response.data.success == true){\n\t\t\t\t\tconst allNotes = [...this.allnotes];\n\t\t\t\t\tconst noteindex = allNotes.findIndex(note => note._id == fid);\n\t\t\t\t\tif (noteindex > -1) {\n\t\t\t\t\tallNotes.splice(noteindex, 1);\n\t\t\t\t\t}\n\t\t\t\t\tthis.allnotes = allNotes;\n\t\t\t\t\tthis.sucMsg = response.data.message;\n\t\t\t\t\tthis.resetForm();\n\t\t\t\t} else {\n\t\t\t\t\tif(response.data.auth == false){\n\t\t\t\t\t\tthis.logout();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.errMsg = \"Server error\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => console.log(err));\n        },\n        logout(){\n\t\t\tlocalStorage.clear();\n\t\t\tthis.$router.push('/login');\n\t\t},\n    }\n};\n</script>\n<style>\n#app{\n\toverflow:hidden\n}\n</style>\n<style scoped>\n.titleBox {\n  background-color:#f8f8f8;\n  padding:10px 30px;\n  border-bottom:1px solid #999;\n}\n.contentbox{\n\tpadding:0px 30px;\n}\n.pull-right{\n\tfloat:right;\n}\n.clear{\n\tclear:both;\n}\n.rightContentDiv{\n\tpadding-top:10px;\n\tborder-left:1px solid #999;\n}\n#description{\n\theight: 200px;\n}\n#notelistingul{\n\tmargin: 0;\n    padding: 0;\n    list-style: none;\n    max-height:500px;\n    overflow:auto;\n}\n.noteList{\n\tposition:relative;\n\tborder-bottom:1px solid #999;\n}\n.editNoteDiv{\ncursor:pointer;\n}\n.deleteNote{\n\tposition:absolute;\n\tright:0;\n\ttop:0;\n\tcursor:pointer;\n}\n</style>\n"]}]}